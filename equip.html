<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>升級計算器</title>
  <style>
    body {
      font-family: "Microsoft JhengHei", sans-serif;
      background: #f5f7fa;
      margin: 0;
      padding: 15px;
    }
    .card {
      max-width: 100%;
      margin: auto;
      background: #fff;
      padding: 15px;
      border-radius: 12px;
      box-shadow: 0 3px 8px rgba(0,0,0,0.1);
    }
    h2 {
      text-align: center;
      color: #333;
      font-size: 20px;
      margin-bottom: 15px;
    }
    label {
      display: block;
      margin: 8px 0 4px;
      color: #555;
      font-size: 14px;
    }
    input {
      width: 100%;
      padding: 10px;
      margin-bottom: 12px;
      border: 1px solid #ccc;
      border-radius: 8px;
      font-size: 16px;
    }
    button {
      width: 100%;
      padding: 12px;
      background: #4CAF50;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 16px;
      font-weight: bold;
    }
    button:hover {
      background: #45a049;
    }
    .result {
      margin-top: 18px;
      padding: 15px;
      background: #f0f9ff;
      border: 1px solid #b6e0fe;
      border-radius: 10px;
      color: #333;
      font-size: 15px;
      line-height: 1.6;
      word-break: break-word; /* 防止數字太長溢出 */
    }
    .section {
      margin-bottom: 12px;
      padding: 10px;
      border-radius: 8px;
      background: #fff;
      border: 1px solid #eee;
    }
    .section b {
      display: block;
      margin-bottom: 4px;
      color: #0077cc;
    }

    /* 手機螢幕適配 */
    @media (max-width: 480px) {
      h2 { font-size: 18px; }
      input, button { font-size: 14px; }
      .result { font-size: 14px; }
    }
  </style>
</head>
<body>
  <div class="card">
    <h2>升級材料計算器</h2>
    <label>開始等級：</label>
    <input type="number" id="start" value="130" min="130" max="250" style="width:80px; padding:5px; font-size:14px;">
    <label>結束等級：</label>
    <input type="number" id="end" value="150" min="130" max="250" style="width:80px; padding:5px; font-size:14px;">
	<h2>古遺物計算</h2>
	<label>開始等級：</label>
    <input type="number" id="start1" value="13" min="13" max="25" style="width:80px; padding:5px; font-size:14px;">
    <label>結束等級：</label>
    <input type="number" id="end1" value="15" min="13" max="25" style="width:80px; padding:5px; font-size:14px;">
    <button onclick="calculateAll()">計算</button>
	<button onclick="clearAll()" style="margin-top:8px; background:#f44336;">重新計算</button>
    <div class="result" id="result">請輸入範圍並按下計算</div>
  </div>

  <script>
    // 裝備資料
const equip = {
  130: { stone: 16600, gold: 33200, refine: 0 },
  131: { stone: 16750, gold: 33500, refine: 0 },
  132: { stone: 16900, gold: 33800, refine: 0 },
  133: { stone: 17100, gold: 34200, refine: 0 },
  134: { stone: 17250, gold: 34500, refine: 510 },
  135: { stone: 17450, gold: 34900, refine: 0 }, 
  136: { stone: 17600, gold: 35200, refine: 0 }, 
  137: { stone: 17750, gold: 35500, refine: 0 }, 
  138: { stone: 17950, gold: 35900, refine: 0 }, 
  139: { stone: 18100, gold: 36200, refine: 510 }, 
  140: { stone: 18250, gold: 36500, refine: 0 }, 
  141: { stone: 18450, gold: 36900, refine: 0 }, 
  142: { stone: 18600, gold: 37200, refine: 0 }, 
  143: { stone: 18750, gold: 37500, refine: 0 }, 
  144: { stone: 18950, gold: 37900, refine: 510 }, 
  145: { stone: 19100, gold: 38200, refine: 0 }, 
  146: { stone: 19250, gold: 38500, refine: 0 }, 
  147: { stone: 19450, gold: 38900, refine: 0 }, 
  148: { stone: 19600, gold: 39200, refine: 0 }, 
  149: { stone: 19750, gold: 39500, refine: 510 }, 
  150: { stone: 19950, gold: 39900, refine: 0 }, 
  151: { stone: 20100, gold: 40200, refine: 0 }, 
  152: { stone: 20250, gold: 40500, refine: 0 }, 
  153: { stone: 20450, gold: 40900, refine: 0 }, 
  154: { stone: 20600, gold: 41200, refine: 510 }, 
  155: { stone: 20750, gold: 41500, refine: 0 }, 
  156: { stone: 20950, gold: 41900, refine: 0 }, 
  157: { stone: 21100, gold: 42200, refine: 0 }, 
  158: { stone: 21250, gold: 42500, refine: 0 }, 
  159: { stone: 21450, gold: 42900, refine: 510 }, 
  160: { stone: 21600, gold: 43200, refine: 0 }, 
  161: { stone: 21750, gold: 43500, refine: 0 }, 
  162: { stone: 21950, gold: 43900, refine: 0 }, 
  163: { stone: 22100, gold: 44200, refine: 0 }, 
  164: { stone: 22250, gold: 44500, refine: 510 }, 
  165: { stone: 22450, gold: 44900, refine: 0 }, 
  166: { stone: 22600, gold: 45200, refine: 0 }, 
  167: { stone: 22750, gold: 45500, refine: 0 }, 
  168: { stone: 22950, gold: 45900, refine: 0 }, 
  169: { stone: 23100, gold: 46200, refine: 510 }, 
  170: { stone: 23250, gold: 46500, refine: 0 }, 
  171: { stone: 23450, gold: 46900, refine: 0 }, 
  172: { stone: 23600, gold: 47200, refine: 0 }, 
  173: { stone: 23750, gold: 47500, refine: 0 }, 
  174: { stone: 23950, gold: 47900, refine: 510 }, 
  175: { stone: 24100, gold: 48200, refine: 0 }, 
  176: { stone: 24250, gold: 48500, refine: 0 }, 
  177: { stone: 24450, gold: 48900, refine: 0 }, 
  178: { stone: 24600, gold: 49200, refine: 0 }, 
  179: { stone: 24750, gold: 49500, refine: 510 }, 
  180: { stone: 24950, gold: 49900, refine: 0 }, 
  181: { stone: 25100, gold: 50200, refine: 0 }, 
  182: { stone: 25250, gold: 50500, refine: 0 }, 
  183: { stone: 25450, gold: 50900, refine: 0 }, 
  184: { stone: 25600, gold: 51200, refine: 510 }, 
  185: { stone: 25750, gold: 51500, refine: 0 }, 
  186: { stone: 25950, gold: 51900, refine: 0 }, 
  187: { stone: 26100, gold: 52200, refine: 0 }, 
  188: { stone: 26250, gold: 52500, refine: 0 }, 
  189: { stone: 26450, gold: 52900, refine: 510 }, 
  190: { stone: 26600, gold: 53200, refine: 0 }, 
  191: { stone: 26750, gold: 53500, refine: 0 }, 
  192: { stone: 26950, gold: 53900, refine: 0 }, 
  193: { stone: 27100, gold: 54200, refine: 0 }, 
  194: { stone: 27250, gold: 54500, refine: 510 }, 
  195: { stone: 27450, gold: 54900, refine: 0 }, 
  196: { stone: 27600, gold: 55200, refine: 0 }, 
  197: { stone: 27750, gold: 55500, refine: 0 }, 
  198: { stone: 27950, gold: 55900, refine: 0 }, 
  199: { stone: 28100, gold: 56200, refine: 510 }, 
  200: { stone: 28250, gold: 56500, refine: 0 }, 
  201: { stone: 28450, gold: 56900, refine: 0 }, 
  202: { stone: 28600, gold: 57200, refine: 0 }, 
  203: { stone: 28750, gold: 57500, refine: 0 }, 
  204: { stone: 28950, gold: 57900, refine: 510 }, 
  205: { stone: 29100, gold: 58200, refine: 0 }, 
  206: { stone: 29250, gold: 58500, refine: 0 }, 
  207: { stone: 29450, gold: 58900, refine: 0 }, 
  208: { stone: 29600, gold: 59200, refine: 0 }, 
  209: { stone: 29750, gold: 59500, refine: 510 }, 
  210: { stone: 29950, gold: 59900, refine: 0 }, 
  211: { stone: 30100, gold: 60200, refine: 0 }, 
  212: { stone: 30250, gold: 60500, refine: 0 }, 
  213: { stone: 30450, gold: 60900, refine: 0 }, 
  214: { stone: 30600, gold: 61200, refine: 510 }, 
  215: { stone: 30750, gold: 61500, refine: 0 }, 
  216: { stone: 30950, gold: 61900, refine: 0 }, 
  217: { stone: 31100, gold: 62200, refine: 0 }, 
  218: { stone: 31250, gold: 62500, refine: 0 }, 
  219: { stone: 31450, gold: 62900, refine: 510 }, 
  220: { stone: 31600, gold: 63200, refine: 0 }, 
  221: { stone: 31750, gold: 63500, refine: 0 }, 
  222: { stone: 31950, gold: 63900, refine: 0 }, 
  223: { stone: 32100, gold: 64200, refine: 0 }, 
  224: { stone: 32250, gold: 64500, refine: 510 }, 
  225: { stone: 32450, gold: 64900, refine: 0 }, 
  226: { stone: 32600, gold: 65200, refine: 0 }, 
  227: { stone: 32750, gold: 65500, refine: 0 }, 
  228: { stone: 32950, gold: 65900, refine: 0 }, 
  229: { stone: 33100, gold: 66200, refine: 510 }, 
  230: { stone: 33250, gold: 66500, refine: 0 }, 
  231: { stone: 33450, gold: 66900, refine: 0 }, 
  232: { stone: 33600, gold: 67200, refine: 0 }, 
  233: { stone: 33750, gold: 67500, refine: 0 }, 
  234: { stone: 33950, gold: 67900, refine: 510 }, 
  235: { stone: 34100, gold: 68200, refine: 0 }, 
  236: { stone: 34250, gold: 68500, refine: 0 }, 
  237: { stone: 34450, gold: 68900, refine: 0 }, 
  238: { stone: 34600, gold: 69200, refine: 0 }, 
  239: { stone: 34750, gold: 69500, refine: 510 }, 
  240: { stone: 34950, gold: 69900, refine: 0 }, 
  241: { stone: 35100, gold: 70200, refine: 0 }, 
  242: { stone: 35250, gold: 70500, refine: 0 }, 
  243: { stone: 35450, gold: 70900, refine: 0 }, 
  244: { stone: 35600, gold: 71200, refine: 510 }, 
  245: { stone: 35750, gold: 71500, refine: 0 }, 
  246: { stone: 35950, gold: 71900, refine: 0 }, 
  247: { stone: 36100, gold: 72200, refine: 0 }, 
  248: { stone: 36250, gold: 72500, refine: 0 }, 
  249: { stone: 36450, gold: 72900, refine: 510 }, 
  250: { stone: 36600, gold: 73200, refine: 0 }, 
  };

    // 技能精華表
const skill = {
  130: 12000,
  131: 12100,
  132: 12200,
  133: 12300,
  134: 12500,
  135: 12600,
  136: 12700,
  137: 12800,
  138: 12900,
  139: 13100,
  140: 13200,
  141: 13300,
  142: 13400,
  143: 13500,
  144: 13700,
  145: 13800,
  146: 13900,
  147: 14000,
  148: 14100,
  149: 14300,
  150: 14400,
  151: 14500,
  152: 14600,
  153: 14700,
  154: 14900,
  155: 15000,
  156: 15100,
  157: 15200,
  158: 15300,
  159: 15500,
  160: 15600,
  161: 15700,
  162: 15800,
  163: 15900,
  164: 16100,
  165: 16200,
  166: 16300,
  167: 16400,
  168: 16500,
  169: 16700,
  170: 16800,
  171: 16900,
  172: 17000,
  173: 17100,
  174: 17300,
  175: 17400,
  176: 17500,
  177: 17600,
  178: 17700,
  179: 17900,
  180: 18000,
  181: 18100,
  182: 18200,
  183: 18300,
  184: 18500,
  185: 18600,
  186: 18700,
  187: 18800,
  188: 18900,
  189: 19100,
  190: 19200,
  191: 19300,
  192: 19400,
  193: 19500,
  194: 19700,
  195: 19800,
  196: 19900,
  197: 20000,
  198: 20100,
  199: 20300,
  200: 20400,
  201: 20500,
  202: 20600,
  203: 20700,
  204: 20900,
  205: 21000,
  206: 21100,
  207: 21200,
  208: 21300,
  209: 21500,
  210: 21600,
  211: 21700,
  212: 21800,
  213: 21900,
  214: 22100,
  215: 22200,
  216: 22300,
  217: 22400,
  218: 22500,
  219: 22700,
  220: 22800,
  221: 22900,
  222: 23000,
  223: 23100,
  224: 23300,
  225: 23400,
  226: 23500,
  227: 23600,
  228: 23700,
  229: 23900,
  230: 24000,
  231: 24100,
  232: 24200,
  233: 24300,
  234: 24500,
  235: 24600,
  236: 24700,
  237: 24800,
  238: 24900,
  239: 25100,
  240: 25200,
  241: 25300,
  242: 25400,
  243: 25500,
  244: 25700,
  245: 25800,
  246: 25900,
  247: 26000,
  248: 26100,
  249: 26300,
  250: 26400
};

    // 幻寵飼料表
   const pet = {
  130: 57300,
  131: 58500,
  132: 59600,
  133: 60800,
  134: 61900,
  135: 63100,
  136: 64200,
  137: 65400,
  138: 66500,
  139: 67700,
  140: 68800,
  141: 70000,
  142: 71100,
  143: 72300,
  144: 73400,
  145: 74600,
  146: 75700,
  147: 76900,
  148: 78000,
  149: 79200,
  150: 80300,
  151: 81500,
  152: 82600,
  153: 83800,
  154: 84900,
  155: 86100,
  156: 87200,
  157: 88400,
  158: 89500,
  159: 90700,
  160: 91800,
  161: 93000,
  162: 94100,
  163: 95300,
  164: 96400,
  165: 97600,
  166: 98700,
  167: 99900,
  168: 101000,
  169: 102200,
  170: 103300,
  171: 104500,
  172: 105600,
  173: 106800,
  174: 107900,
  175: 109100,
  176: 110200,
  177: 111400,
  178: 112500,
  179: 113700,
  180: 114800,
  181: 116000,
  182: 117100,
  183: 118300,
  184: 119400,
  185: 120600,
  186: 121700,
  187: 122900,
  188: 124000,
  189: 125200,
  190: 126300,
  191: 127500,
  192: 128600,
  193: 129800,
  194: 130900,
  195: 132100,
  196: 133200,
  197: 134400,
  198: 135500,
  199: 136700,
  200: 137800,
  201: 139000,
  202: 140100,
  203: 141300,
  204: 142400,
  205: 143600,
  206: 144700,
  207: 145900,
  208: 147000,
  209: 148200,
  210: 149300,
  211: 150500,
  212: 151600,
  213: 152800,
  214: 153900,
  215: 155100,
  216: 156200,
  217: 157400,
  218: 158500,
  219: 159700,
  220: 160800,
  221: 162000,
  222: 163100,
  223: 164300,
  224: 165400,
  225: 166600,
  226: 167700,
  227: 168900,
  228: 170000,
  229: 171200,
  230: 172300,
  231: 173500,
  232: 174600,
  233: 175800,
  234: 176900,
  235: 178100,
  236: 179200,
  237: 180400,
  238: 181500,
  239: 182700,
  240: 183800,
  241: 185000,
  242: 186100,
  243: 187300,
  244: 188400,
  245: 189600,
  246: 190700,
  247: 191900,
  248: 193000,
  249: 194200,
  250: 195300
};


// 等級資源庫
const relics = {
   13: { stone1: 1350, gold1: 60700, white: 33750,  blue: 6750,  purple: 1350 },
   14: { stone1: 1485, gold1: 66800, white: 37125,  blue: 7425,  purple: 1485 },
   15: { stone1: 1620, gold1: 72900, white: 40500,  blue: 8100,  purple: 1620 },
   16: { stone1: 1755, gold1: 79000, white: 43875,  blue: 8775,  purple: 1755 },
   17: { stone1: 1890, gold1: 85100, white: 47250,  blue: 9450,  purple: 1890 },
   18: { stone1: 2025, gold1: 91200, white: 50625,  blue: 10125, purple: 2025 },
   19: { stone1: 2160, gold1: 97300, white: 54000,  blue: 10800, purple: 2160 },
   20: { stone1: 2295, gold1: 103400, white: 57375,  blue: 11475, purple: 2295 },
   21: { stone1: 2430, gold1: 109500, white: 60750,  blue: 12150, purple: 2430 },
   22: { stone1: 2565, gold1: 115600, white: 64125,  blue: 12825, purple: 2565 },
   23: { stone1: 2700, gold1: 121700, white: 67500,  blue: 13500, purple: 2700 },
   24: { stone1: 2835, gold1: 127800, white: 70875,  blue: 14175, purple: 2835 },
   25: { stone1: 2970, gold1: 133900, white: 74250,  blue: 14850, purple: 2970 },
};
	
	function calculateAll() {
  const equipResult = calculate();
  calculate1(equipResult); // 將 equipResult 傳給 calculate1
}
	
	
  function calculate() {
  const start = parseInt(document.getElementById("start").value);
  const end = parseInt(document.getElementById("end").value);

  if (start < 130 || end > 250 || start >= end) {
    alert("請輸入有效範圍 (130~250)");
    return;
  }

  let stone = 0, gold = 0, refine = 0, skillTotal = 0, petTotal = 0;

  // 這裡改成 "< end"
  for (let lvl = start; lvl < end; lvl++) {
    if (equip[lvl]) {
      stone += equip[lvl].stone;
      gold += equip[lvl].gold;
	  refine += equip[lvl].refine;
    }
    if (skill[lvl]) {
      skillTotal += skill[lvl];
    }
    if (pet[lvl]) {
      petTotal += pet[lvl];
    }
  }
  // 回傳計算結果給 calculate1() 使用
  return { stone, gold, refine, skillTotal, petTotal };
}

function calculate1() {
  const start1 = parseInt(document.getElementById("start1").value);
  const end1 = parseInt(document.getElementById("end1").value);

  if (start1 < 13 || end1 > 25 || start1 >= end1) {
    alert("請輸入有效範圍 (13~25)");
    return;
  }

  let stone1 = 0, gold1 = 0, white = 0, blue = 0, purple = 0;

  for (let lvl = start1; lvl < end1; lvl++) {
    if (relics[lvl]) {
      stone1 += relics[lvl].stone1;
      gold1 += relics[lvl].gold1;
      white += relics[lvl].white;
      blue += relics[lvl].blue;
      purple += relics[lvl].purple;
    }
  }

  // 先計算裝備
  const equipResult = calculate();

  // 顯示結果
  document.getElementById("result").innerHTML = `
    <div class="section"><b>裝備 (單件)</b><br>
      粗煉石：${Math.floor(equipResult.stone / 10000*100)/100}萬&nbsp; (<span style="color: purple;">${equipResult.stone.toLocaleString()}</span>)<br>	  
      金幣：${Math.floor(equipResult.gold / 10000*100)/100}萬&nbsp; (<span style="color: purple;">${equipResult.gold.toLocaleString()}</span>)<br>
	  精鍛石：${Math.floor(equipResult.refine / 10000*100)/100}萬&nbsp; (<span style="color: purple;">${equipResult.refine.toLocaleString()}</span>)
	</div>

    <div class="section" ><b style="color: red;">裝備 (5件)</b><br>
      粗煉石：${Math.floor((equipResult.stone*5) / 10000*100)/100}萬&nbsp; (<span style="color: purple;">${(equipResult.stone*5).toLocaleString()}</span>)<br>
      金幣：${Math.floor((equipResult.gold*5) / 10000*100)/100}萬&nbsp; (<span style="color: purple;">${(equipResult.gold*5).toLocaleString()}</span>)<br>
	  精鍛石：${Math.floor((equipResult.refine*5) / 10000*100)/100}萬&nbsp; (<span style="color: purple;">${(equipResult.refine*5).toLocaleString()}</span>)
	</div>
    <div class="section"><b>技能精華 (單技能)</b><br>
      精華：${Math.floor(equipResult.skillTotal / 10000*100)/100}萬&nbsp; (<span style="color: purple;">${equipResult.skillTotal.toLocaleString()}</span>)
	</div>
    <div class="section"><b style="color: red;">技能精華 (8技能)</b><br>
      精華：${Math.floor((equipResult.skillTotal*8) / 10000*100)/100}萬&nbsp; (<span style="color: purple;">${(equipResult.skillTotal*8).toLocaleString()}</span>)
	</div>
    <div class="section"><b>幻寵飼料 (單寵)</b><br>
      飼料：${Math.floor(equipResult.petTotal / 10000*100)/100}萬&nbsp; (<span style="color: purple;">${equipResult.petTotal.toLocaleString()}</span>)
    </div>
    <div class="section"><b style="color: red;">幻寵飼料 (4隻)</b><br>
      飼料：${Math.floor((equipResult.petTotal*4) / 10000*100)/100}萬&nbsp; (<span style="color: purple;">${(equipResult.petTotal*4).toLocaleString()}</span>)
	</div>
    <div class="section"><b>遺物 (單個)</b><br>
      白砂：${Math.floor(white / 10000*100)/100}萬&nbsp; (<span style="color: purple;">${white.toLocaleString()}</span>)<br>
      藍砂：${Math.floor(blue / 10000*100)/100}萬&nbsp; (<span style="color: purple;">${blue.toLocaleString()}</span>)<br>
      紫砂：${Math.floor(purple / 10000*100)/100}萬&nbsp; (<span style="color: purple;">${purple.toLocaleString()}</span>)<br>
      金幣：${Math.floor(gold1 / 10000*100)/100}萬&nbsp; (<span style="color: purple;">${gold1.toLocaleString()}</span>)
    </div>

    <div class="section"><b style="color: red;">遺物 (20個)</b><br>
	  白砂：${Math.floor((white*20) / 10000*100)/100}萬&nbsp;  (<span style="color: purple;">${(white*20).toLocaleString()}</span>)<br>
      藍砂：${Math.floor((blue*20) / 10000*100)/100}萬&nbsp;  (<span style="color: purple;">${(blue*20).toLocaleString()}</span>)<br>
      紫砂：${Math.floor((purple*20) / 10000*100)/100}萬&nbsp;  (<span style="color: purple;">${(purple*20).toLocaleString()}</span>)<br>
	  金幣：${Math.floor((gold1*20) / 10000*100)/100}萬&nbsp;  (<span style="color: purple;">${(gold1*20).toLocaleString()}</span>)
    </div>
  `;
  
  
}

function clearAll() {
  // 重置輸入欄位
  document.getElementById("start").value = 130;
  document.getElementById("end").value = 150;
  document.getElementById("start1").value = 13;
  document.getElementById("end1").value = 15;

  // 清空結果
  document.getElementById("result").innerHTML = "請輸入範圍並按下計算";
}
  </script>
  <button onclick="window.location.href='https://pure08402-dev.github.io/test7/'">返回首頁</button>
</body>
</html>
