<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>升級計算器</title>
  <style>
    body {
      font-family: "Microsoft JhengHei", sans-serif;
      background: #f5f7fa;
      margin: 0;
      padding: 15px;
    }
    .card {
      max-width: 100%;
      margin: auto;
      background: #fff;
      padding: 15px;
      border-radius: 12px;
      box-shadow: 0 3px 8px rgba(0,0,0,0.1);
    }
    h2 {
      text-align: center;
      color: #333;
      font-size: 20px;
      margin-bottom: 15px;
    }
    label {
      display: block;
      margin: 8px 0 4px;
      color: #555;
      font-size: 14px;
    }
    input {
      width: 100%;
      padding: 10px;
      margin-bottom: 12px;
      border: 1px solid #ccc;
      border-radius: 8px;
      font-size: 16px;
    }
    button {
      width: 100%;
      padding: 12px;
      background: #4CAF50;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 16px;
      font-weight: bold;
    }
    button:hover {
      background: #45a049;
    }
    .result {
      margin-top: 18px;
      padding: 15px;
      background: #f0f9ff;
      border: 1px solid #b6e0fe;
      border-radius: 10px;
      color: #333;
      font-size: 15px;
      line-height: 1.6;
      word-break: break-word; /* 防止數字太長溢出 */
    }
    .section {
      margin-bottom: 12px;
      padding: 10px;
      border-radius: 8px;
      background: #fff;
      border: 1px solid #eee;
    }
    .section b {
      display: block;
      margin-bottom: 4px;
      color: #0077cc;
    }

    /* 手機螢幕適配 */
    @media (max-width: 480px) {
      h2 { font-size: 18px; }
      input, button { font-size: 14px; }
      .result { font-size: 14px; }
    }
  </style>
</head>
<body>
  <div class="card">
    <h2>升級材料計算器</h2>
    <label>開始等級：</label>
    <input type="number" id="start" value="130" min="130" max="200">
    <label>結束等級：</label>
    <input type="number" id="end" value="150" min="130" max="200">
	<h2>古遺物計算</h2>
	<label>開始等級：</label>
    <input type="number" id="start1" value="13" min="13" max="20">
    <label>結束等級：</label>
    <input type="number" id="end1" value="15" min="13" max="20">
    <button onclick="calculateAll()">計算</button>
    <div class="result" id="result">請輸入範圍並按下計算</div>
  </div>

  <script>
    // 裝備資料
	const equip = {
	  130: { stone: 16600, gold: 33200 },
	  131: { stone: 16750, gold: 33500 },
	  132: { stone: 17100, gold: 33800 },
	  133: { stone: 17250, gold: 34500 },
	  134: { stone: 17250, gold: 34500 },
	  135: { stone: 17450, gold: 34900 },
	  136: { stone: 17600, gold: 35200 },
	  137: { stone: 17750, gold: 35500 },
	  138: { stone: 17950, gold: 35900 },
	  139: { stone: 18100, gold: 36200 },
	  140: { stone: 18250, gold: 36500 },
	  141: { stone: 18450, gold: 36900 },
	  142: { stone: 18600, gold: 37200 },
	  143: { stone: 18750, gold: 37500 },
	  144: { stone: 18950, gold: 37900 },
	  145: { stone: 19100, gold: 38200 },
	  146: { stone: 19250, gold: 38500 },
	  147: { stone: 19450, gold: 38900 },
	  148: { stone: 19600, gold: 39200 },
	  149: { stone: 19750, gold: 39500 },
	  150: { stone: 19950, gold: 39900 },
	  151: { stone: 20100, gold: 40200 },
	  152: { stone: 20250, gold: 40500 },
	  153: { stone: 20450, gold: 40900 },
	  154: { stone: 20600, gold: 41200 },
	  155: { stone: 20750, gold: 41500 },
	  156: { stone: 20950, gold: 41900 },
	  157: { stone: 21100, gold: 42200 },
	  158: { stone: 21250, gold: 42500 },
	  159: { stone: 21450, gold: 42900 },
	  160: { stone: 21600, gold: 43200 },
	  161: { stone: 21750, gold: 43500 },
	  162: { stone: 21950, gold: 43900 },
	  163: { stone: 22100, gold: 44200 },
	  164: { stone: 22250, gold: 44500 },
	  165: { stone: 22450, gold: 44900 },
	  166: { stone: 22600, gold: 45200 },
	  167: { stone: 22750, gold: 45500 },
	  168: { stone: 22950, gold: 45900 },
	  169: { stone: 23100, gold: 46200 },
	  170: { stone: 23250, gold: 46500 },
	  171: { stone: 23450, gold: 46900 },
	  172: { stone: 23600, gold: 47200 },
	  173: { stone: 23750, gold: 47500 },
	  174: { stone: 23950, gold: 47900 },
	  175: { stone: 24100, gold: 48200 },
	  176: { stone: 24250, gold: 48500 },
	  177: { stone: 24450, gold: 48900 },
	  178: { stone: 24600, gold: 49200 },
	  179: { stone: 24750, gold: 49500 },
	  180: { stone: 24950, gold: 49900 },
	  181: { stone: 25100, gold: 50200 },
	  182: { stone: 25250, gold: 50500 },
	  183: { stone: 25450, gold: 50900 },
	  184: { stone: 25600, gold: 51200 },
	  185: { stone: 25750, gold: 51500 },
	  186: { stone: 25950, gold: 51900 },
	  187: { stone: 26100, gold: 52200 },
	  188: { stone: 26250, gold: 52500 },
	  189: { stone: 26450, gold: 52900 },
	  190: { stone: 26600, gold: 53200 },
	  191: { stone: 26750, gold: 53500 },
	  192: { stone: 26950, gold: 53900 },
	  193: { stone: 27100, gold: 54200 },
	  194: { stone: 27250, gold: 54500 },
	  195: { stone: 27450, gold: 54900 },
	  196: { stone: 27600, gold: 55200 },
	  197: { stone: 27750, gold: 55500 },
	  198: { stone: 27950, gold: 55900 },
	  199: { stone: 28100, gold: 56200 },
	  200: { stone: 28250, gold: 56500 }
	};

    // 技能精華表
    const skill = {
      131: 12100, 132: 12200, 133: 12300, 134: 12500, 135: 12600,
      136: 12700, 137: 12800, 138: 12900, 139: 13100, 140: 13200,
      141: 13300, 142: 13400, 143: 13500, 144: 13700, 145: 13800,
      146: 13900, 147: 14000, 148: 14100, 149: 14300, 150: 14400,
      151: 14500, 152: 14600, 153: 14700, 154: 14900, 155: 15000,
      156: 15100, 157: 15200, 158: 15300, 159: 15500, 160: 15600,
      161: 15700, 162: 15800, 163: 15900, 164: 16100, 165: 16200,
      166: 16300, 167: 16400, 168: 16500, 169: 16700, 170: 16800,
      171: 16900, 172: 17000, 173: 17100, 174: 17300, 175: 17400,
      176: 17500, 177: 17600, 178: 17700, 179: 17900, 180: 18000,
      181: 18100, 182: 18200, 183: 18300, 184: 18500, 185: 18600,
      186: 18700, 187: 18800, 188: 18900, 189: 19100, 190: 19200,
      191: 19300, 192: 19400, 193: 19500, 194: 19700, 195: 19800,
      196: 19900, 197: 20000, 198: 20100, 199: 20300, 200: 20400
    };

    // 幻寵飼料表
    const pet = {
      131: 58500, 132: 59600, 133: 60800, 134: 61900, 135: 63100,
      136: 64200, 137: 65400, 138: 66500, 139: 67700, 140: 68800,
      141: 70000, 142: 71100, 143: 72300, 144: 73400, 145: 74600,
      146: 75700, 147: 76900, 148: 78000, 149: 79200, 150: 80300,
      151: 81500, 152: 82600, 153: 83800, 154: 84900, 155: 86100,
      156: 87200, 157: 88400, 158: 89500, 159: 90700, 160: 91800,
      161: 93000, 162: 94100, 163: 95300, 164: 96400, 165: 97600,
      166: 98700, 167: 99900, 168: 101000, 169: 102200, 170: 103300,
      171: 104500, 172: 105600, 173: 106800, 174: 107900, 175: 109100,
      176: 110200, 177: 111400, 178: 112500, 179: 113700, 180: 114800,
      181: 116000, 182: 117100, 183: 118300, 184: 119400, 185: 120600,
      186: 121700, 187: 122900, 188: 124000, 189: 125200, 190: 126300,
      191: 127500, 192: 128600, 193: 129800, 194: 130900, 195: 132100,
      196: 133200, 197: 134400, 198: 135500, 199: 136700, 200: 137800
    };


	// 等級資源庫
	const relics = {
	   14: 	   { stone1: 1350, gold1: 60700, white: 168750, blue: 6750, purple: 1350 },
	   15:     { stone1: 1485, gold1: 66800, white: 185625, blue: 7425, purple: 1485 },
	   16:     { stone1: 1620, gold1: 72900, white: 202500, blue: 8100, purple: 1620 },
	   17:     { stone1: 1755, gold1: 79000, white: 219375, blue: 8775, purple: 1755 },
	   18:     { stone1: 1890, gold1: 85100, white: 236250, blue: 9450, purple: 1890 },
	   19:     { stone1: 2025, gold1: 91200, white: 253125, blue: 10125, purple: 2025 },
	   20:     { stone1: 2160, gold1: 97300, white: 270000, blue: 10800, purple: 2160 },
	   21:     { stone1: 2295, gold1: 103400, white: 286875, blue: 11475, purple: 2295 },
	   22:     { stone1: 2430, gold1: 109500, white: 303750, blue: 12150, purple: 2430 },
	   23:     { stone1: 2565, gold1: 115600, white: 320625, blue: 12825, purple: 2565 },
	   24:     { stone1: 2700, gold1: 121700, white: 337500, blue: 13500, purple: 2700 },
	   25:     { stone1: 2835, gold1: 127800, white: 354375, blue: 14175, purple: 2835 },
	};
	
	function calculateAll() {
  const equipResult = calculate();
  calculate1(equipResult); // 將 equipResult 傳給 calculate1
}
	
	
    function calculate() {
  const start = parseInt(document.getElementById("start").value);
  const end = parseInt(document.getElementById("end").value);

  if (start < 130 || end > 200 || start >= end) {
    alert("請輸入有效範圍 (130~200)");
    return;
  }

  let stone = 0, gold = 0, skillTotal = 0, petTotal = 0;

  for (let lvl = start; lvl <= end; lvl++) {
    if (equip[lvl]) {
      stone += equip[lvl].stone;
      gold += equip[lvl].gold;
    }
    if (skill[lvl]) {
      skillTotal += skill[lvl];
    }
    if (pet[lvl]) {
      petTotal += pet[lvl];
    }
  }

  // 回傳計算結果給 calculate1() 使用
  return { stone, gold, skillTotal, petTotal };
}

function calculate1() {
  const start1 = parseInt(document.getElementById("start1").value);
  const end1 = parseInt(document.getElementById("end1").value);

  if (start1 < 13 || end1 > 20 || start1 >= end1) {
    alert("請輸入有效範圍 (13~20)");
    return;
  }

  let stone1 = 0, gold1 = 0, white = 0, blue = 0, purple = 0;

  for (let lvl = start1; lvl <= end1; lvl++) {
    if (relics[lvl]) {
      stone1 += relics[lvl].stone1;
      gold1 += relics[lvl].gold1;
      white += relics[lvl].white;
      blue += relics[lvl].blue;
      purple += relics[lvl].purple;
    }
  }

  // 先計算裝備
  const equipResult = calculate();

  // 顯示結果
  document.getElementById("result").innerHTML = `
    <div class="section"><b>裝備 (單件)</b>
      粗煉石：${equipResult.stone.toLocaleString()}<br>
      金幣：${equipResult.gold.toLocaleString()}</div>

    <div class="section"><b>裝備 (五件)</b>
      粗煉石：${(equipResult.stone*5).toLocaleString()}<br>
      金幣：${(equipResult.gold*5).toLocaleString()}</div>

    <div class="section"><b>技能精華 (單技能)</b>
      精華：${equipResult.skillTotal.toLocaleString()}</div>

    <div class="section"><b>技能精華 (8技能)</b>
      精華：${(equipResult.skillTotal*8).toLocaleString()}</div>

    <div class="section"><b>幻寵飼料 (單寵)</b>
      飼料：${equipResult.petTotal.toLocaleString()}</div>

    <div class="section"><b>幻寵飼料 (4隻)</b>
      飼料：${(equipResult.petTotal*4).toLocaleString()}</div>

    <div class="section"><b>遺物 (單個)</b>
      白砂：${white.toLocaleString()}<br>
      or藍砂：${blue.toLocaleString()}<br>
      or紫砂：${purple.toLocaleString()}<br>
      金幣：${gold1.toLocaleString()}
    </div>

    <div class="section"><b>遺物 (20個)</b>
	  白砂：${(white*20).toLocaleString()}<br>
      or藍砂：${(blue*20).toLocaleString()}<br>
      or紫砂：${(purple*20).toLocaleString()}<br>
	  金幣：${(gold1*20).toLocaleString()}
    </div>
  `;
}
  </script>
  <button onclick="window.location.href='https://pure08402-dev.github.io/test7/'">返回首頁</button>
</body>
</html>
