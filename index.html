<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>杖劍傳說 第二賽季 養成評分計算器</title>
    

<style>
body { 
  font-family: "Microsoft JhengHei", sans-serif; 
  margin: 0; 
  padding: 10px; 
  background: #f0f2f5; 
}

h1 { 
  text-align: center; 
  margin-bottom: 15px; 
}

.card {
  background: #fff; 
  border-radius: 12px; 
  box-shadow: 0 4px 10px rgba(0,0,0,0.1);
  padding: 16px; 
  margin-bottom: 20px;
}

.card h2 {
  margin-top: 0; 
  font-size: 18px; 
  border-left: 5px solid #4a90e2;
  padding-left: 8px; 
  color: #333;
}

.field { 
  margin-bottom: 12px; 
}

label { 
  display: block; 
  margin-bottom: 4px; 
  font-size: 14px; 
  font-weight: bold; 
}

input { 
  width: 100%;              /* 佔滿全寬 */
  padding: 12px;            /* 手機上更好點擊 */
  font-size: 16px;          /* 字體放大 */
  border: 1px solid #ccc; 
  border-radius: 6px; 
  box-sizing: border-box;   /* 避免超出容器 */
}

button {
  width: 100%;              /* 佔滿全寬 */
  padding: 12px;            /* 提高可點擊範圍 */
  font-size: 16px;          /* 字體放大 */
  font-weight: bold;        /* 手機上更清晰 */
  border: none; 
  border-radius: 8px;
  cursor: pointer; 
  color: #fff; 
  background: #4a90e2; 
  transition: 0.2s;
}

button:hover { 
  background: #357abd; 
}

    .arrow {
      display: inline-block;
      transition: transform 0.3s ease;
    }
    .rotate {
      transform: rotate(180deg);
    }
    /* 卡片收合動畫 */
    #multiplierCard {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.4s ease, padding 0.3s ease;
      background: #fff;
      border-radius: 12px;
      margin-top: 12px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      padding: 0 15px;
    }
    #multiplierCard.show {
      max-height: 1000px; /* 足夠展開 */
      padding: 15px;
    }
    .btn-group {
      margin-top: 15px;
      text-align: right;
    }
    .btn-group button:nth-child(2) {
      background-color: #28a745; /* 綠色 恢復 */
    }
    .btn-group button:nth-child(2):hover {
      background-color: #1e7e34;
    }
    .btn-group button:nth-child(3) {
      background-color: #dc3545; /* 紅色 清除 */
    }
    .btn-group button:nth-child(3):hover {
      background-color: #a71d2a;
    }	
	
	

.clear-btn { 
  background: #d9534f; 
}

.clear-btn:hover { 
  background: #b52b27; 
}

.result label { 
  font-size: 15px; 
  margin-top: 8px; 
  display: block; 
}

.star { 
  color: #007bff; 
  font-weight: bold; 
}

/* Tooltip */
.tooltip { 
  position: relative; 
  display: inline-block; 
  cursor: pointer; 
}

.tooltip .tiptext {
  visibility: hidden; 
  width: 160px; 
  background-color: #ffffe0; 
  color: black;
  text-align: left; 
  border: 1px solid #aaa; 
  border-radius: 6px; 
  padding: 6px;
  position: absolute; 
  z-index: 1; 
  top: -5px; 
  left: 105%; 
  font-size: 12px;
}

.tooltip:hover .tiptext { 
  visibility: visible; 
}

/* 表格樣式 */
.table-container {
  width: 100%;
  overflow-x: hidden;  /* 不橫向滑動 */
}

table {
  border-collapse: collapse;
  width: 100%;         /* 自動填滿容器 */
  table-layout: auto;  /* 自動調整欄位寬度 */
}

th, td {
  border: 1px solid #ddd;
  text-align: center;
  word-break: break-word; /* 避免文字溢出 */
}

th {
  background: #4a90e2;
  color: white;
}

tr:nth-child(even) {
  background: #f9f9f9;
}

.highlight {
  background: #ffff99;
  font-weight: bold;
}

/* 手機螢幕適配 */
@media (max-width: 480px) {
  h2 { font-size: 18px; }
  input, button { font-size: 16px; padding: 14px; }
  .result { font-size: 14px; }
}


</style>
</head>
<body>

<h1>杖劍傳說 第二賽季 </h1>
<h1>養成評分計算器</h1>

<button onclick="window.location.href='https://pure08402-dev.github.io/test7/equip'">⭐&nbsp;&nbsp;&nbsp;&nbsp;升級素材計算</button>
<br><br>
<button onclick="window.location.href='https://pure08402-dev.github.io/test7/Trolley'">⭐&nbsp;&nbsp;&nbsp;&nbsp;小推車天數計算</button>

<div class="card">
<h2>S2原初之星</h2>
<div class="field">
<label><input type="checkbox" id="mul_s2"> S2 選項(基底45)</label>
</div>
<div class="field">
<label><input type="checkbox" id="mul_s3"> S3 選項(基底65)</label>
</div>

<button type="button" id="toggleBtn" onclick="toggleMultiplier()">
<span id="arrow" class="arrow">▼</span>
<span id="btnText">展開倍率設定</span>
</button>

<div class="card" id="multiplierCard">
<h2>倍率設定</h2>
<div class="field"><label>人物倍率</label><input type="number" id="mul_person" value="100"></div>
<div class="field"><label>裝備倍率</label><input type="number" id="mul_equip" value="18"></div>
<div class="field"><label>幻獸倍率</label><input type="number" id="mul_illusion" value="8"></div>
<div class="field"><label>技能倍率</label><input type="number" id="mul_skill" value="7"></div>
<div class="field"><label>遺物倍率</label><input type="number" id="mul_relic" value="33"></div>
<div class="field"><label>星數除數</label><input type="number" id="mul_star_div" value="27"></div>
<div class="field"><label>星數基底</label><input type="number" id="mul_star_base" value="45"></div>

<div class="btn-group">
<button type="button" onclick="saveMultiplier()">💾 儲存倍率</button>
<button type="button" onclick="resetMultiplier()">♻️ 恢復預設</button>
<button type="button" onclick="clearMultiplier()">🗑️ 清除儲存</button>
</div>
</div>
</div>

<div class="card">
<div class="field tooltip">
<label>人物等級
<span style="color:#007bff; font-weight:bold;">(倍率: <span id="personMulDisplay">100</span>)</span>
</label>
<input type="number" id="person" value="130" min="130" max="250"><span class="tiptext">S2建議:130 ~ ,S3建議:160 ~ </span></div>
<span id="personFormula" style="color: gray; margin-left:10px;">#(人物等級 - 130) × 倍率</span>
</div>


<div class="card">
<div class="field tooltip" style="color: red;">
<label>裝備等級
<span style="color:#28a745; font-weight:bold;">(倍率: <span id="equipMulDisplay">18</span>)</span>
</label>

<input type="number" id="weapon1" value="130" min="130" max="250"><span class="tiptext">裝備5件 ~ </span>
</div>
<span id="equipFormula" style="color: gray; margin-left:10px;">#(5件總和 - 650) × 倍率</span>
<button type="button" onclick="toggleSection('equipCard','equipArrow','equipBtnText','展開裝備細項','收合裝備細項')">
  <span id="equipArrow" class="arrow">▼</span>
  <span id="equipBtnText">展開裝備細項</span>
</button>
<div id="equipCard" style="display:none; margin-top:10px;">
<div style="display:flex; gap:20px; flex-wrap: wrap;">
<div class="field tooltip"><label>武器</label><input type="number" id="weapon" value="130" min="130" max="250"><span class="tiptext">S2建議:130 ~ ,S3建議:160 ~ </span></div>
<div class="field tooltip"><label>副手</label><input type="number" id="assistant" value="130" min="130" max="250"><span class="tiptext">S2建議:130 ~ ,S3建議:160 ~ </span></div>
<div class="field tooltip"><label>頭盔</label><input type="number" id="headgear" value="130" min="130" max="250"><span class="tiptext">S2建議:130 ~ ,S3建議:160 ~ </span></div>
<div class="field tooltip"><label>衣服</label><input type="number" id="clothes" value="130" min="130" max="250"><span class="tiptext">S2建議:130 ~ ,S3建議:160 ~ </span></div>
<div class="field tooltip"><label>鞋子</label><input type="number" id="shoes" value="130" min="130" max="250"><span class="tiptext">S2建議:130 ~ ,S3建議:160 ~ </span></div>
</div></div></div>



<div class="card">
<div class="field tooltip" style="color: red;">
<label>幻獸等級
<span style="color:#ff9800; font-weight:bold;">(倍率: <span id="illusionMulDisplay">8</span>)</span>
</label>
<input type="number" id="illusion5" value="130" min="130" max="250"><span class="tiptext">幻獸1 ~ 幻獸4</span>
</div>
<span id="illusionFormula" style="color: gray; margin-left:10px;">#(4個總和 - 520) × 倍率</span>
<button type="button" onclick="toggleSection('equipCard1','equipArrow1','equipBtnText1','展開幻獸1 ~ 4','收合幻獸1 ~ 4')">
  <span id="equipArrow1" class="arrow">▼</span>
  <span id="equipBtnText1">展開幻獸1 ~ 4</span>
</button>
<div id="equipCard1" style="display:none; margin-top:10px;">
<div style="display:flex; gap:20px; flex-wrap: wrap;">
<div class="field tooltip"><label>幻獸1</label><input type="number" id="illusion1" value="130" min="130" max="250"><span class="tiptext">S2建議:130 ~ ,S3建議:160 ~ </span></div>
<div class="field tooltip"><label>幻獸2</label><input type="number" id="illusion2" value="130" min="130" max="250"><span class="tiptext">S2建議:130 ~ ,S3建議:160 ~ </span></div>
<div class="field tooltip"><label>幻獸3</label><input type="number" id="illusion3" value="130" min="130" max="250"><span class="tiptext">S2建議:130 ~ ,S3建議:160 ~ </span></div>
<div class="field tooltip"><label>幻獸4</label><input type="number" id="illusion4" value="130" min="130" max="250"><span class="tiptext">S2建議:130 ~ ,S3建議:160 ~ </span></div>
</div></div></div>


<div class="card">
<div class="field tooltip">
<label>技能等級(8個)
<span style="color:#9c27b0; font-weight:bold;">(倍率: <span id="skillMulDisplay">7</span>)</span>
</label>
<input type="number" id="skill" value="130" min="130" max="250"><span class="tiptext">S2建議:130 ~ ,S3建議:160 ~ </span>
</div>
+
<div class="field tooltip"><label>技能額外增加等級</label><input type="number" id="skill_count" placeholder="無需填,有額外增加再填 " min="0" step="1"><span class="tiptext">額外增加等級總和</span></div>
<br></br><span id="skillFormula" style="color: gray; margin-left:10px;">#(8個總和 - 1040) × 倍率</span>
</div>


<div class="card">
<div class="field tooltip">
<label>遺物等級(20個)
<span style="color:#e91e63; font-weight:bold;">(倍率: <span id="relicMulDisplay">33</span>)</span>
</label>
<input type="number" id="relic_level" value="13" min="13" max="25"><span class="tiptext">S2建議:13 ~ ,S3建議:16 ~ </span>
</div>
+
<div class="field tooltip"><label>遺物額外增加等級</label><input type="number" id="relic_count" placeholder="無需填,有額外增加再填 " min="0" step="1"><span class="tiptext">額外增加等級總和</span></div>
<br></br><span id="relicFormula" style="color: gray; margin-left:10px;">#(20個總和 - 260) × 倍率</span>
</div>


<div class="card result">
<button onclick="calculate()">計算</button><br></br>
<button class="clear-btn" onclick="clearAll()">重新計算</button>
<div class="card">
<h2>計算結果</h2>
<label>人物評分: <span id="person_score">0</span></label>
<label>裝備評分: <span id="equip_score">0</span></label>
<label>幻獸評分: <span id="illusion_score">0</span></label>
<label>技能評分: <span id="skill_score">0</span></label>
<label>遺物評分: <span id="relic_score">0</span></label>
<label>總評分: <span id="total_score">0</span></label>
<label class="star">🌟 原初之星: <span id="star">0</span></label>
</div></div>


<!-- 星數表 -->
<div class="card">
<h2>S1+S2獲得原初之星</h2>
<div style="margin-bottom: 20px;">
  <label for="s1value">請輸入 S1 原初之星：</label>
  <input type="number" id="s1value" placeholder="例如 200" style="width:100px; padding:10px; font-size:16px;" min="0" step="1">
  <br><br>
  <button onclick="highlightStar()">計算原初之星總和</button><br><br>
  <span id="totalDisplay" style="margin-left: 10px; font-weight: bold; color: #d63384;"></span>
</div>

  <div class="table-container">
    <table id="starTable">
      <tr><th>星數</th><th>效果</th></tr>
      <tr><td>48</td><td>攻擊</td></tr>
      <tr><td>56</td><td>升華3%</td></tr>
      <tr><td>64</td><td>防禦</td></tr>
      <tr><td>72</td><td>寶石5%</td></tr>
      <tr><td>80</td><td>生命</td></tr>
      <tr><td>88</td><td class="highlight">翻倍2%</td></tr>
      <tr><td>96</td><td>速度</td></tr>
      <tr><td>104</td><td class="highlight">經驗2%</td></tr>
      <tr><td>116</td><td>攻擊</td></tr>
      <tr><td>128</td><td>升華3%</td></tr>
      <tr><td>140</td><td>防禦</td></tr>
      <tr><td>152</td><td>寶石5%</td></tr>
      <tr><td>164</td><td>生命</td></tr>
      <tr><td>176</td><td class="highlight">翻倍2%</td></tr>
      <tr><td>188</td><td>速度</td></tr>
      <tr><td>200</td><td class="highlight">經驗2%</td></tr>
      <tr><td>215</td><td>攻擊</td></tr>
      <tr><td>230</td><td>升華3%</td></tr>
      <tr><td>245</td><td>防禦</td></tr>
      <tr><td>260</td><td>寶石5%</td></tr>
      <tr><td>275</td><td>生命</td></tr>
      <tr><td>290</td><td class="highlight">翻倍2%</td></tr>
      <tr><td>305</td><td>速度</td></tr>
      <tr><td>320</td><td class="highlight">經驗2%</td></tr>
      <tr><td>340</td><td>攻擊</td></tr>
      <tr><td>360</td><td>升華3%</td></tr>
      <tr><td>380</td><td>防禦</td></tr>
      <tr><td>400</td><td>寶石5%</td></tr>
      <tr><td>420</td><td>生命</td></tr>
      <tr><td>440</td><td class="highlight">翻倍2%</td></tr>
      <tr><td>460</td><td>速度</td></tr>
      <tr><td>480</td><td class="highlight">經驗2%</td></tr>
      <tr><td>505</td><td>攻擊</td></tr>
      <tr><td>530</td><td>升華3%</td></tr>
      <tr><td>555</td><td>防禦</td></tr>
      <tr><td>580</td><td>寶石5%</td></tr>
      <tr><td>605</td><td>生命</td></tr>
      <tr><td>630</td><td class="highlight">翻倍2%</td></tr>
      <tr><td>655</td><td>速度</td></tr>
      <tr><td>680</td><td class="highlight">經驗2%</td></tr>
      <tr><td>710</td><td>攻擊</td></tr>
      <tr><td>740</td><td>升華3%</td></tr>
      <tr><td>770</td><td>防禦</td></tr>
      <tr><td>800</td><td>寶石5%</td></tr>
      <tr><td>830</td><td>生命</td></tr>
      <tr><td>860</td><td class="highlight">翻倍2%</td></tr>
      <tr><td>890</td><td>速度</td></tr>
      <tr><td>920</td><td class="highlight">經驗2%</td></tr>
      <tr><td>955</td><td>攻擊</td></tr>
      <tr><td>990</td><td>升華3%</td></tr>
      <tr><td>1025</td><td>防禦</td></tr>
      <tr><td>1060</td><td>寶石5%</td></tr>
      <tr><td>1095</td><td>生命</td></tr>
      <tr><td>1130</td><td class="highlight">翻倍2%</td></tr>
      <tr><td>1165</td><td>速度</td></tr>
      <tr><td>1200</td><td class="highlight">經驗2%</td></tr>
      <tr><td>1240</td><td>攻擊</td></tr>
      <tr><td>1280</td><td>升華3%</td></tr>
      <tr><td>1320</td><td>防禦</td></tr>
      <tr><td>1360</td><td>寶石5%</td></tr>
      <tr><td>1400</td><td>生命</td></tr>
      <tr><td>1440</td><td class="highlight">翻倍2%</td></tr>
      <tr><td>1480</td><td>速度</td></tr>
      <tr><td>1520</td><td class="highlight">經驗2%</td></tr>
      <!-- 其餘項目可依需要繼續補上 -->
</table>
</div>
</div>
<footer style="margin-top: 20px; text-align: right; font-size: 14px; color: gray;">
  <span style="margin-right: 15px;">版本: 1.0</span>
  <span style="margin-right: 15px;">日期: 2025-10-01</span>
  <span>
    <a href="mailto:totpure@duck.com" style="color: black; font-weight: bold; text-decoration: underline;">
      問題回饋
    </a>
  </span>
</footer>


<script>
let basePersonLevel = 130;
let baseRelicLevel = 13;

const defaultValues = { basePersonLevel:130, baseRelicLevel:13, person:100, equip:18, illusion:8, skill:7, relic:33, star_div:27, star_base:45 };
const s2Values = {...defaultValues};
const s3Values = { basePersonLevel:160, baseRelicLevel:16, person:100, equip:14, illusion:5, skill:6, relic:26, star_div:13, star_base:65 };

const inputs = {
  person: document.getElementById('mul_person'),
  equip: document.getElementById('mul_equip'),
  illusion: document.getElementById('mul_illusion'),
  skill: document.getElementById('mul_skill'),
  relic: document.getElementById('mul_relic'),
  star_div: document.getElementById('mul_star_div'),
  star_base: document.getElementById('mul_star_base')
};

const s2Checkbox = document.getElementById("mul_s2");
const s3Checkbox = document.getElementById("mul_s3");

// 需要同步調整的輸入框
const levelInputs = [
  "person","weapon1","weapon","assistant","headgear","clothes","shoes",
  "skill","illusion5","illusion1","illusion2","illusion3","illusion4"
].map(id => document.getElementById(id));

const relicLevel = document.getElementById("relic_level");

// 套用倍率
function applyValues(values){
  for(let key in values){ if(inputs[key]) inputs[key].value = values[key]; }
  basePersonLevel = values.basePersonLevel;
  baseRelicLevel = values.baseRelicLevel;
}

// 套用等級
function applyDefaultLevel(mode){
  if(mode === "S2"){
    levelInputs.forEach(input => input.value = 130);
    relicLevel.value = 13;
  }else if(mode === "S3"){
    levelInputs.forEach(input => input.value = 160);
    relicLevel.value = 16;
  }else{
    levelInputs.forEach(input => input.value = 130);
    relicLevel.value = 13;
  }
}

// 勾選切換
function onCheckboxChange(option){
  if(option === "S2"){
    if(s2Checkbox.checked){
      s3Checkbox.checked = false;
      applyValues(s2Values);
      applyDefaultLevel("S2");
    }else{
      applyValues(defaultValues);
      applyDefaultLevel("default");
    }
  }else if(option === "S3"){
    if(s3Checkbox.checked){
      s2Checkbox.checked = false;
      applyValues(s3Values);
      applyDefaultLevel("S3");
    }else{
      applyValues(defaultValues);
      applyDefaultLevel("default");
    }
  }
}

s2Checkbox.addEventListener("change", ()=>onCheckboxChange("S2"));
s3Checkbox.addEventListener("change", ()=>onCheckboxChange("S3"));

function toggleMultiplier(){
  let card = document.getElementById('multiplierCard');
  let arrow = document.getElementById('arrow');
  if(card.classList.contains('show')){
    card.classList.remove('show'); arrow.classList.remove('rotate');
  }else{
    card.classList.add('show'); arrow.classList.add('rotate');
  }
}

function saveMultiplier(){ alert("倍率已儲存 (暫存功能)"); }
function resetMultiplier(){ applyValues(defaultValues); }
function clearMultiplier(){ applyValues(defaultValues); s2Checkbox.checked=false; s3Checkbox.checked=false; }

function getVal(id){ return parseInt(document.getElementById(id).value)||0; }

///////////////////////////////////////////////////////////////////////////////////////////////////////////////  
function calculate(){
  let person_score=(getVal("person")-basePersonLevel)*getVal("mul_person");
  let equip_score=((getVal("weapon")+getVal("assistant")+getVal("headgear")+getVal("clothes")+getVal("shoes")-(basePersonLevel*5))*getVal("mul_equip"));
  let illusion_score=((getVal("illusion1")+getVal("illusion2")+getVal("illusion3")+getVal("illusion4")-(basePersonLevel*4))*getVal("mul_illusion"));
  let skill_score=((getVal("skill")-basePersonLevel)*8+getVal("skill_count"))*getVal("mul_skill");
  let relic_score=((getVal("relic_level")-baseRelicLevel)*20+getVal("relic_count"))*getVal("mul_relic");
  let total_score=person_score+equip_score+illusion_score+skill_score+relic_score;
  let star=Math.floor(total_score/getVal("mul_star_div")+getVal("mul_star_base"));

  document.getElementById("person_score").innerText=person_score;
  document.getElementById("equip_score").innerText=equip_score;
  document.getElementById("illusion_score").innerText=illusion_score;
  document.getElementById("skill_score").innerText=skill_score;
  document.getElementById("relic_score").innerText=relic_score;
  document.getElementById("total_score").innerText=total_score;
  document.getElementById("star").innerText=star;
}

function clearAll(){ location.reload(); }

///////////////////////////////////////////////////////////////////////////////////////////////////////////////  
// 快速填入
document.getElementById("weapon1").addEventListener("input", function() {
  let val = parseInt(this.value) || "";
  ["weapon","assistant","headgear","clothes","shoes"].forEach(id => {
    document.getElementById(id).value = val;
  });
});

document.getElementById("illusion5").addEventListener("input", function() {
  let val = parseInt(this.value) || "";
  ["illusion1","illusion2","illusion3","illusion4"].forEach(id => {
    document.getElementById(id).value = val;
  });
});

///////////////////////////////////////////////////////////////////////////////////////////////////////////////  
function toggleSection(sectionId, arrowId, btnTextId, expandText, collapseText) {
  const section = document.getElementById(sectionId);
  const arrow = document.getElementById(arrowId);
  const btnText = document.getElementById(btnTextId);

  if (section.style.display === "none") {
    section.style.display = "block";
    arrow.textContent = "▲";
    btnText.textContent = collapseText;
  } else {
    section.style.display = "none";
    arrow.textContent = "▼";
    btnText.textContent = expandText;
  }
}



///////////////////////////////////////////////////////////////////////////////////////////////////////////////  
function highlightStar() {
  const s1 = parseInt(document.getElementById('s1value').value) || 0;
  const star = parseInt(document.getElementById('star').innerText) || 0;
  const total = s1 + star;
  document.getElementById('totalDisplay').innerText = "總和: " + total;

  const rows = document.querySelectorAll('#starTable tr');
  rows.forEach(row => row.style.backgroundColor = "");

  let maxRow = null;
  let maxValue = -Infinity;
  for (let row of rows) {
    const td = row.cells[0];
    if (!td) continue;
    const value = parseInt(td.textContent);
    if (!isNaN(value) && value <= total && value > maxValue) {
      maxValue = value;
      maxRow = row;
    }
  }
  if (maxRow) {
    maxRow.style.backgroundColor = "#ffd1dc";
    maxRow.scrollIntoView({ behavior: "smooth", block: "center" });
  }
  console.log("S1 + 原初之星總和:", total, "標示星數:", maxValue);
}

  window.addEventListener("DOMContentLoaded", () => {
    s2Checkbox.checked = true;
    onCheckboxChange("S2");
  });
  
///////////////////////////////////////////////////////////////////////////////////////////////////////////////  
function applyValues(values){
  for(let key in values){ 
    if(inputs[key]) inputs[key].value = values[key]; 
  }
  basePersonLevel = values.basePersonLevel;
  baseRelicLevel = values.baseRelicLevel;

  // 更新倍率顯示
  document.getElementById("personMulDisplay").innerText   = values.person;
  document.getElementById("equipMulDisplay").innerText    = values.equip;
  document.getElementById("illusionMulDisplay").innerText = values.illusion;
  document.getElementById("skillMulDisplay").innerText    = values.skill;
  document.getElementById("relicMulDisplay").innerText    = values.relic;
}

inputs.person.addEventListener("input", () => {
  document.getElementById("personMulDisplay").innerText = inputs.person.value;
});
inputs.equip.addEventListener("input", () => {
  document.getElementById("equipMulDisplay").innerText = inputs.equip.value;
});
inputs.illusion.addEventListener("input", () => {
  document.getElementById("illusionMulDisplay").innerText = inputs.illusion.value;
});
inputs.skill.addEventListener("input", () => {
  document.getElementById("skillMulDisplay").innerText = inputs.skill.value;
});
inputs.relic.addEventListener("input", () => {
  document.getElementById("relicMulDisplay").innerText = inputs.relic.value;
});


function updateFormulas() {
  document.getElementById("personFormula").innerText   = `#(人物等級 - ${basePersonLevel}) × 倍率`;
  document.getElementById("equipFormula").innerText    = `#(5件總和 - ${basePersonLevel*5}) × 倍率`;
  document.getElementById("illusionFormula").innerText = `#(4個總和 - ${basePersonLevel*4}) × 倍率`;
  document.getElementById("skillFormula").innerText    = `#(8個總和 - ${basePersonLevel*8}) × 倍率`;
  document.getElementById("relicFormula").innerText    = `#(20個總和 - ${baseRelicLevel*20}) × 倍率`;
}


function onCheckboxChange(option){
  if(option === "S2"){
    if(s2Checkbox.checked){
      s3Checkbox.checked = false;
      applyValues(s2Values);
      applyDefaultLevel("S2");
    }else{
      applyValues(defaultValues);
      applyDefaultLevel("default");
    }
  }else if(option === "S3"){
    if(s3Checkbox.checked){
      s2Checkbox.checked = false;
      applyValues(s3Values);
      applyDefaultLevel("S3");
    }else{
      applyValues(defaultValues);
      applyDefaultLevel("default");
    }
  }
  updateFormulas(); // ✅ 更新灰色公式
}
  
  
</script>


</body>
</html>
