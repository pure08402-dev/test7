<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>æ–åŠå‚³èªª ç¬¬äºŒè³½å­£ é¤Šæˆè©•åˆ†è¨ˆç®—å™¨</title>
<style>
  body { font-family: "Microsoft JhengHei", sans-serif; padding: 10px; background: #f8f8f8; }
  h1 { text-align: center; }
  .frame { background: #fff; padding: 15px; margin-bottom: 15px; border-radius: 8px; box-shadow: 0 0 5px rgba(0,0,0,0.1); }
  .field { margin-bottom: 8px; }
  label { display: block; margin-bottom: 4px; }
  input { width: 100%; padding: 6px; font-size: 14px; }
  button { padding: 8px 16px; margin: 5px; font-size: 14px; cursor: pointer; }
  .result label { font-weight: bold; margin-top: 8px; display: block; }
  .star { color: blue; }
  .tooltip { position: relative; display: inline-block; cursor: pointer; }
  .tooltip .tiptext { 
    visibility: hidden; width: 140px; background-color: #ffffe0; color: black;
    text-align: left; border: 1px solid #aaa; border-radius: 4px; padding: 5px;
    position: absolute; z-index: 1; top: -5px; left: 105%; font-size: 12px;
  }
  .tooltip:hover .tiptext { visibility: visible; }
</style>
</head>
<body>

<h1>æ–åŠå‚³èªª ç¬¬äºŒè³½å­£ é¤Šæˆè©•åˆ†è¨ˆç®—å™¨</h1>

<div class="frame">
  <h2>è¼¸å…¥æ•¸å€¼</h2>
  <div class="field tooltip">
    <label>äººç‰©ç­‰ç´š</label>
    <input type="number" id="person" placeholder="130 ~ 200">
    <span class="tiptext">å»ºè­° 130 ~ 200</span>
  </div>
  <div class="field tooltip">
    <label>æ­¦å™¨</label>
    <input type="number" id="weapon" placeholder="130 ~ 200">
    <span class="tiptext">å»ºè­° 130 ~ 200</span>
  </div>
  <div class="field tooltip">
    <label>å‰¯æ‰‹</label>
    <input type="number" id="assistant" placeholder="130 ~ 200">
    <span class="tiptext">å»ºè­° 130 ~ 200</span>
  </div>
  <div class="field tooltip">
    <label>é ­ç›”</label>
    <input type="number" id="headgear" placeholder="130 ~ 200">
    <span class="tiptext">å»ºè­° 130 ~ 200</span>
  </div>
  <div class="field tooltip">
    <label>è¡£æœ</label>
    <input type="number" id="clothes" placeholder="130 ~ 200">
    <span class="tiptext">å»ºè­° 130 ~ 200</span>
  </div>
  <div class="field tooltip">
    <label>é‹å­</label>
    <input type="number" id="shoes" placeholder="130 ~ 200">
    <span class="tiptext">å»ºè­° 130 ~ 200</span>
  </div>
  <div class="field tooltip">
    <label>æŠ€èƒ½ç­‰ç´š</label>
    <input type="number" id="skill" placeholder="130 ~ 200">
    <span class="tiptext">å»ºè­° 130 ~ 200</span>
  </div>
  <div class="field tooltip">
    <label>å¹»ç¸1</label>
    <input type="number" id="illusion1" placeholder="130 ~ 200">
    <span class="tiptext">å»ºè­° 130 ~ 200</span>
  </div>
  <div class="field tooltip">
    <label>å¹»ç¸2</label>
    <input type="number" id="illusion2" placeholder="130 ~ 200">
    <span class="tiptext">å»ºè­° 130 ~ 200</span>
  </div>
  <div class="field tooltip">
    <label>å¹»ç¸3</label>
    <input type="number" id="illusion3" placeholder="130 ~ 200">
    <span class="tiptext">å»ºè­° 130 ~ 200</span>
  </div>
  <div class="field tooltip">
    <label>å¹»ç¸4</label>
    <input type="number" id="illusion4" placeholder="130 ~ 200">
    <span class="tiptext">å»ºè­° 130 ~ 200</span>
  </div>
  <div class="field tooltip">
    <label>éºç‰©ç­‰ç´š</label>
    <input type="number" id="relic_level" placeholder="13 ~ 20">
    <span class="tiptext">å»ºè­° 13 ~ 20</span>
  </div>
  <div class="field tooltip">
    <label>éºç‰©æ•¸é‡</label>
    <input type="number" id="relic_count" placeholder="20ä»¥ä¸‹">
    <span class="tiptext">å»ºè­° 20 ä»¥ä¸‹</span>
  </div>
  <button onclick="calculate()">è¨ˆç®—</button>
  <button onclick="clearAll()">æ¸…é™¤</button>
</div>

<div class="frame result">
  <h2>è¨ˆç®—çµæœ</h2>
  <label>äººç‰©è©•åˆ†: <span id="person_score">0</span></label>
  <label>è£å‚™è©•åˆ†: <span id="equip_score">0</span></label>
  <label>å¹»ç¸è©•åˆ†: <span id="illusion_score">0</span></label>
  <label>æŠ€èƒ½è©•åˆ†: <span id="skill_score">0</span></label>
  <label>éºç‰©è©•åˆ†: <span id="relic_score">0</span></label>
  <label>ç¸½è©•åˆ†: <span id="total_score">0</span></label>
  <label class="star">ğŸŒŸ åŸåˆä¹‹æ˜Ÿ: <span id="star">0</span></label>
</div>

<script>
function calculate() {
  try {
    let person = parseInt(document.getElementById("person").value) || 0;
    let weapon = parseInt(document.getElementById("weapon").value) || 0;
    let assistant = parseInt(document.getElementById("assistant").value) || 0;
    let headgear = parseInt(document.getElementById("headgear").value) || 0;
    let clothes = parseInt(document.getElementById("clothes").value) || 0;
    let shoes = parseInt(document.getElementById("shoes").value) || 0;
    let skill = parseInt(document.getElementById("skill").value) || 0;
    let illusion1 = parseInt(document.getElementById("illusion1").value) || 0;
    let illusion2 = parseInt(document.getElementById("illusion2").value) || 0;
    let illusion3 = parseInt(document.getElementById("illusion3").value) || 0;
    let illusion4 = parseInt(document.getElementById("illusion4").value) || 0;
    let relic_level = parseInt(document.getElementById("relic_level").value) || 0;
    let relic_count = parseInt(document.getElementById("relic_count").value) || 0;

    let person_score = (person - 130) * 100;
    let G = weapon + assistant + headgear + clothes + shoes;
    let equip_score = (G - 650) * 18;
    let H = illusion1 + illusion2 + illusion3 + illusion4;
    let illusion_score = (H - 520) * 8;
    let skill_score = (skill - 130) * 8 * 7;
    let relic_score = ((relic_level - 13) * 20 + relic_count) * 33;
    let total_score = person_score + equip_score + illusion_score + skill_score + relic_score;
    let star = Math.floor(total_score / 27 + 45);

    document.getElementById("person_score").innerText = person_score;
    document.getElementById("equip_score").innerText = equip_score;
    document.getElementById("illusion_score").innerText = illusion_score;
    document.getElementById("skill_score").innerText = skill_score;
    document.getElementById("relic_score").innerText = relic_score;
    document.getElementById("total_score").innerText = total_score;
    document.getElementById("star").innerText = star;

  } catch (err) {
    document.getElementById("total_score").innerText = "è¼¸å…¥éŒ¯èª¤";
  }
}

function clearAll() {
  let ids = ["person","weapon","assistant","headgear","clothes","shoes","skill",
             "illusion1","illusion2","illusion3","illusion4","relic_level","relic_count"];
  ids.forEach(id => document.getElementById(id).value = "");
  ["person_score","equip_score","illusion_score","skill_score","relic_score","total_score","star"]
    .forEach(id => document.getElementById(id).innerText = "0");
}
</script>

</body>
</html>
