<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>æ–åŠå‚³èªª ç¬¬äºŒè³½å­£ é¤Šæˆè©•åˆ†è¨ˆç®—å™¨</title>
    
    <button onclick="window.location.href='https://pure08402-dev.github.io/test7/equip'">å‡ç´šç´ æè¨ˆç®—</button>
<style>
  body { font-family: "Microsoft JhengHei", sans-serif; margin: 0; padding: 10px; background: #f0f2f5; }
  h1 { text-align: center; margin-bottom: 15px; }

  .card {
    background: #fff; border-radius: 12px; box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    padding: 16px; margin-bottom: 20px;
  }
  .card h2 {
    margin-top: 0; font-size: 18px; border-left: 5px solid #4a90e2;
    padding-left: 8px; color: #333;
  }
  .field { margin-bottom: 12px; }
  label { display: block; margin-bottom: 4px; font-size: 14px; font-weight: bold; }
  input { width: 100%; padding: 8px; font-size: 14px; border: 1px solid #ccc; border-radius: 6px; }
  button {
    padding: 10px 18px; margin: 6px 4px; font-size: 14px; border: none; border-radius: 8px;
    cursor: pointer; color: #fff; background: #4a90e2; transition: 0.2s;
  }
  button:hover { background: #357abd; }
  .clear-btn { background: #d9534f; }
  .clear-btn:hover { background: #b52b27; }

  .result label { font-size: 15px; margin-top: 8px; display: block; }
  .star { color: #007bff; font-weight: bold; }

  /* Tooltip */
  .tooltip { position: relative; display: inline-block; cursor: pointer; }
  .tooltip .tiptext {
    visibility: hidden; width: 160px; background-color: #ffffe0; color: black;
    text-align: left; border: 1px solid #aaa; border-radius: 6px; padding: 6px;
    position: absolute; z-index: 1; top: -5px; left: 105%; font-size: 12px;
  }
  .tooltip:hover .tiptext { visibility: visible; }

  /* è¡¨æ ¼æ¨£å¼ */
  .table-container {
    overflow-x: auto;  /* æ‰‹æ©Ÿå¯æ©«å‘æ»‘å‹• */
  }
  table {
    border-collapse: collapse; width: 100%; min-width: 500px;
  }
  th, td {
    border: 1px solid #ddd; padding: 6px 8px; text-align: center; font-size: 14px;
  }
  th { background: #4a90e2; color: white; }
  tr:nth-child(even) { background: #f9f9f9; }
  .highlight { background: #ffff99; font-weight: bold; }
</style>
</head>
<body>

<h1>æ–åŠå‚³èªª ç¬¬äºŒè³½å­£ </h1>
<h1>é¤Šæˆè©•åˆ†è¨ˆç®—å™¨</h1>

<!-- è¨ˆç®—å™¨å¡ç‰‡ -->
<div class="card">
  <h2>è¼¸å…¥æ•¸å€¼</h2>
  <div class="field tooltip">
    <label>äººç‰©ç­‰ç´š</label>
    <input type="number" id="person" value="130" min="130" max="250">
    <span class="tiptext">å»ºè­° 130 ~ 200</span>
  </div>

  <div class="field tooltip" style="color: red;"><label>è£å‚™å¿«é€Ÿå¡«å…¥</label>
    <input type="number" id="weapon1" value="130" min="130" max="250">
    <span class="tiptext">è£å‚™5ä»¶ ~ </span></div>

  <div class="field tooltip"><label>æ­¦å™¨</label>
    <input type="number" id="weapon" value="130" min="130" max="250">
    <span class="tiptext">å»ºè­° 130 ~ 200</span></div>
  <div class="field tooltip"><label>å‰¯æ‰‹</label>
    <input type="number" id="assistant" value="130" min="130" max="250">
    <span class="tiptext">å»ºè­° 130 ~ 200</span></div>
  <div class="field tooltip"><label>é ­ç›”</label>
    <input type="number" id="headgear" value="130" min="130" max="250">
    <span class="tiptext">å»ºè­° 130 ~ 200</span></div>
  <div class="field tooltip"><label>è¡£æœ</label>
    <input type="number" id="clothes" value="130" min="130" max="250">
    <span class="tiptext">å»ºè­° 130 ~ 200</span></div>
  <div class="field tooltip"><label>é‹å­</label>
    <input type="number" id="shoes" value="130" min="130" max="250">
    <span class="tiptext">å»ºè­° 130 ~ 200</span></div>
  <div class="field tooltip"><label>æŠ€èƒ½ç­‰ç´š</label>
    <input type="number" id="skill" value="130" min="130" max="250">
    <span class="tiptext">å»ºè­° 130 ~ 200</span></div>

  <div class="field tooltip" style="color: red;"><label>å¹»ç¸å¿«é€Ÿå¡«å…¥</label>
    <input type="number" id="illusion5" value="130" min="130" max="250">
    <span class="tiptext">å¹»ç¸1 ~ å¹»ç¸4</span></div>

  <div class="field tooltip"><label>å¹»ç¸1</label>
    <input type="number" id="illusion1" value="130" min="130" max="250">
    <span class="tiptext">å»ºè­° 130 ~ 200</span></div>
  <div class="field tooltip"><label>å¹»ç¸2</label>
    <input type="number" id="illusion2" value="130" min="130" max="250">
    <span class="tiptext">å»ºè­° 130 ~ 200</span></div>
  <div class="field tooltip"><label>å¹»ç¸3</label>
    <input type="number" id="illusion3" value="130" min="130" max="250">
    <span class="tiptext">å»ºè­° 130 ~ 200</span></div>
  <div class="field tooltip"><label>å¹»ç¸4</label>
    <input type="number" id="illusion4" value="130" min="130" max="250">
    <span class="tiptext">å»ºè­° 130 ~ 200</span></div>
  <div class="field tooltip"><label>éºç‰©ç­‰ç´š</label>
    <input type="number" id="relic_level" value="13" min="13" max="25">
    <span class="tiptext">å»ºè­° 13 ~ 20</span></div>
  <div class="field tooltip"><label>éºç‰©é¡å¤–å¢åŠ ç­‰ç´š</label>
    <input type="number" id="relic_count" placeholder="ç„¡éœ€å¡«,æœ‰é¡å¤–å¢åŠ å†å¡« " min="0" step="1">
    <span class="tiptext">é¡å¤–å¢åŠ ç­‰ç´šç¸½å’Œ</span></div>
</div>
</div>
  <button onclick="calculate()">è¨ˆç®—</button>
  <button class="clear-btn" onclick="clearAll()">æ¸…é™¤</button>
</div>

<!-- çµæœå¡ç‰‡ -->
<div class="card result">
  <h2>è¨ˆç®—çµæœ</h2>
  <label>äººç‰©è©•åˆ†: <span id="person_score">0</span></label>
  <label>è£å‚™è©•åˆ†: <span id="equip_score">0</span></label>
  <label>å¹»ç¸è©•åˆ†: <span id="illusion_score">0</span></label>
  <label>æŠ€èƒ½è©•åˆ†: <span id="skill_score">0</span></label>
  <label>éºç‰©è©•åˆ†: <span id="relic_score">0</span></label>
  <label>ç¸½è©•åˆ†: <span id="total_score">0</span></label>
  <label class="star">ğŸŒŸ åŸåˆä¹‹æ˜Ÿ: <span id="star">0</span></label>
</div>


<!-- æ˜Ÿæ•¸æ•ˆæœè¡¨å¡ç‰‡ -->
<div class="card">

<title>æ˜Ÿæ•¸æ•ˆæœè¡¨</title>
  <style>
    body {
      font-family: "Microsoft JhengHei", sans-serif;
      background: #f4f6f9;
      margin: 20px;
    }

    h2 {
      color: #333;
      margin-bottom: 12px;
    }

    .table-container {
      max-width: 400px;   /* é™åˆ¶è¡¨æ ¼æœ€å¤§å¯¬åº¦ */
      margin: 0;          /* é å·¦ */
      overflow-x: auto;   /* è¶…å‡ºå¯æ©«å‘æ»‘å‹• */
      background: #fff;
      border-radius: 10px;  /* å¡ç‰‡åœ“è§’ */
      box-shadow: 0 2px 8px rgba(0,0,0,0.1); /* é™°å½± */
      padding: 10px;
    }

    table {
      border-collapse: collapse;
      width: 80%;
      font-size: 8px;
    }

    th, td {

      padding: 6px 10px;
      text-align: center;
    }

    th {

    }

    tr:nth-child(even) {
      background-color: #f9f9f9;
    }

    .highlight {
      color: #d63384;
      font-weight: bold;
    }

    /* æ‰‹æ©Ÿç‰ˆè‡ªå‹•ç¸®å° */
    @media (max-width: 320px) {
      .table-container {
        max-width: 300px;
      }

      table {

      font-size: 7px; /* æ‰‹æ©Ÿå†ç¸®å° */
      width: 90%;     /* æ‰‹æ©Ÿç¨å¾®æ”¾å¯¬ä¸€é» */

      }
    }
  </style>
</head>
<body>

<!-- è¼¸å…¥å€ -->
<div style="margin-bottom: 20px;">
  <label for="s1value">è«‹è¼¸å…¥ S1 åŸåˆä¹‹æ˜Ÿï¼š</label>
  <input type="number" id="s1value" value="0"  
  style="width:80px; padding:5px; font-size:14px;"
  min="0" step="1">
  <span class="tiptext">ä¾‹å¦‚200</span>
  
  <button onclick="highlightStar()">è¨ˆç®—åŸåˆä¹‹æ˜Ÿç¸½å’Œ</button>
    </div>
  <span id="totalDisplay" style="margin-left: 10px; font-weight: bold; color: #d63384;"></span>
</div>


  <h2>S1+S2ç²å¾—åŸåˆä¹‹æ˜Ÿ</h2>
  <div class="table-container">
    <table id="starTable">
      <tr><th>æ˜Ÿæ•¸</th><th>æ•ˆæœ</th><th>æ˜Ÿæ•¸</th><th>æ•ˆæœ</th></tr>
      <tr><td>48</td><td>æ”»æ“Š</td></tr>
      <tr><td>56</td><td>å‡è¯3%</td></tr>
      <tr><td>64</td><td>é˜²ç¦¦</td></tr>
      <tr><td>72</td><td>å¯¶çŸ³5%</td></tr>
      <tr><td>80</td><td>ç”Ÿå‘½</td></tr>
      <tr><td>88</td><td class="highlight">ç¿»å€2%</td></tr>
      <tr><td>96</td><td>é€Ÿåº¦</td></tr>
      <tr><td>104</td><td class="highlight">ç¶“é©—2%</td></tr>
      <tr><td>116</td><td>æ”»æ“Š</td></tr>
      <tr><td>128</td><td>å‡è¯3%</td></tr>
      <tr><td>140</td><td>é˜²ç¦¦</td></tr>
      <tr><td>152</td><td>å¯¶çŸ³5%</td></tr>
      <tr><td>164</td><td>ç”Ÿå‘½</td></tr>
      <tr><td>176</td><td class="highlight">ç¿»å€2%</td></tr>
      <tr><td>188</td><td>é€Ÿåº¦</td></tr>
      <tr><td>200</td><td class="highlight">ç¶“é©—2%</td></tr>
      <tr><td>215</td><td>æ”»æ“Š</td></tr>
      <tr><td>230</td><td>å‡è¯3%</td></tr>
      <tr><td>245</td><td>é˜²ç¦¦</td></tr>
      <tr><td>260</td><td>å¯¶çŸ³5%</td></tr>
      <tr><td>275</td><td>ç”Ÿå‘½</td></tr>
      <tr><td>290</td><td class="highlight">ç¿»å€2%</td></tr>
      <tr><td>305</td><td>é€Ÿåº¦</td></tr>
      <tr><td>320</td><td class="highlight">ç¶“é©—2%</td></tr>
      <tr><td>340</td><td>æ”»æ“Š</td></tr>
      <tr><td>360</td><td>å‡è¯3%</td></tr>
      <tr><td>380</td><td>é˜²ç¦¦</td></tr>
      <tr><td>400</td><td>å¯¶çŸ³5%</td></tr>
      <tr><td>420</td><td>ç”Ÿå‘½</td></tr>
      <tr><td>440</td><td class="highlight">ç¿»å€2%</td></tr>
      <tr><td>460</td><td>é€Ÿåº¦</td></tr>
      <tr><td>480</td><td class="highlight">ç¶“é©—2%</td></tr>
      <tr><td>505</td><td>æ”»æ“Š</td></tr>
      <tr><td>530</td><td>å‡è¯3%</td></tr>
      <tr><td>555</td><td>é˜²ç¦¦</td></tr>
      <tr><td>580</td><td>å¯¶çŸ³5%</td></tr>
      <tr><td>605</td><td>ç”Ÿå‘½</td></tr>
      <tr><td>630</td><td class="highlight">ç¿»å€2%</td></tr>
      <tr><td>655</td><td>é€Ÿåº¦</td></tr>
      <tr><td>680</td><td class="highlight">ç¶“é©—2%</td></tr>
      <tr><td>710</td><td>æ”»æ“Š</td></tr>
      <tr><td>740</td><td>å‡è¯3%</td></tr>
      <tr><td>770</td><td>é˜²ç¦¦</td></tr>
      <tr><td>800</td><td>å¯¶çŸ³5%</td></tr>
      <tr><td>830</td><td>ç”Ÿå‘½</td></tr>
      <tr><td>860</td><td class="highlight">ç¿»å€2%</td></tr>
      <tr><td>890</td><td>é€Ÿåº¦</td></tr>
      <tr><td>920</td><td class="highlight">ç¶“é©—2%</td></tr>
      <tr><td>955</td><td>æ”»æ“Š</td></tr>
      <tr><td>990</td><td>å‡è¯3%</td></tr>
      <tr><td>1025</td><td>é˜²ç¦¦</td></tr>
      <tr><td>1060</td><td>å¯¶çŸ³5%</td></tr>
      <tr><td>1095</td><td>ç”Ÿå‘½</td></tr>
      <tr><td>1130</td><td class="highlight">ç¿»å€2%</td></tr>
      <tr><td>1165</td><td>é€Ÿåº¦</td></tr>
      <tr><td>1200</td><td class="highlight">ç¶“é©—2%</td></tr>
      <tr><td>1240</td><td>æ”»æ“Š</td></tr>
      <tr><td>1280</td><td>å‡è¯3%</td></tr>
      <tr><td>1320</td><td>é˜²ç¦¦</td></tr>
      <tr><td>1360</td><td>å¯¶çŸ³5%</td></tr>
      <tr><td>1400</td><td>ç”Ÿå‘½</td></tr>
      <tr><td>1440</td><td class="highlight">ç¿»å€2%</td></tr>
      <tr><td>1480</td><td>é€Ÿåº¦</td></tr>
      <tr><td>1520</td><td class="highlight">ç¶“é©—2%</td></tr>
      <!-- å…¶é¤˜é …ç›®å¯ä¾éœ€è¦ç¹¼çºŒè£œä¸Š -->
    </table>
  </div>
</div>

<script>
function highlightStar() {
  const s1 = parseInt(document.getElementById('s1value').value) || 0;
  const star = parseInt(document.getElementById('star').innerText) || 0;

  const total = s1 + star;

  // é¡¯ç¤ºç¸½å’Œ
  document.getElementById('totalDisplay').innerText = "ç¸½å’Œ: " + total;

  const rows = document.querySelectorAll('#starTable tr');
  rows.forEach(row => row.style.backgroundColor = ""); // æ¸…é™¤ä¹‹å‰æ¨™è¨˜

  let maxRow = null;
  let maxValue = -Infinity;

  // æ‰¾å‡ºå°æ–¼ç­‰æ–¼ total çš„æœ€å¤§æ˜Ÿæ•¸ç´…æ¡†
  for (let row of rows) {
    const td = row.cells[0]; // æ˜Ÿæ•¸æ¬„ä½
    if (!td) continue;
    const value = parseInt(td.textContent);
    if (!isNaN(value) && value <= total && value > maxValue) {
      maxValue = value;
      maxRow = row;
    }
  }
if (maxRow) {
    maxRow.style.backgroundColor = "#ffd1dc"; // æ¨™ç´…
  }
  console.log("S1 + åŸåˆä¹‹æ˜Ÿç¸½å’Œ:", total, "æ¨™ç¤ºæ˜Ÿæ•¸:", maxValue);
    
  // è‡ªå‹•æ»¾å‹•åˆ°è©²è¡Œ
  maxRow.scrollIntoView({ behavior: "smooth", block: "center" });
}    
</script>


<script>
function calculate() {
  try {
    let getVal = id => parseInt(document.getElementById(id).value) || 0;
    let person = getVal("person"),
        weapon = getVal("weapon"),
        assistant = getVal("assistant"),
        headgear = getVal("headgear"),
        clothes = getVal("clothes"),
        shoes = getVal("shoes"),
        skill = getVal("skill"),
        illusion1 = getVal("illusion1"),
        illusion2 = getVal("illusion2"),
        illusion3 = getVal("illusion3"),
        illusion4 = getVal("illusion4"),
        relic_level = getVal("relic_level"),
        relic_count = getVal("relic_count");

    let person_score = (person - 130) * 100;
    let G = weapon + assistant + headgear + clothes + shoes;
    let equip_score = (G - 650) * 18;
    let H = illusion1 + illusion2 + illusion3 + illusion4;
    let illusion_score = (H - 520) * 8;
    let skill_score = (skill - 130) * 8 * 7;
    let relic_score = ((relic_level - 13) * 20 + relic_count) * 33;
    let total_score = person_score + equip_score + illusion_score + skill_score + relic_score;
    let star = Math.floor(total_score / 27 + 45);

    document.getElementById("person_score").innerText = person_score;
    document.getElementById("equip_score").innerText = equip_score;
    document.getElementById("illusion_score").innerText = illusion_score;
    document.getElementById("skill_score").innerText = skill_score;
    document.getElementById("relic_score").innerText = relic_score;
    document.getElementById("total_score").innerText = total_score;
    document.getElementById("star").innerText = star;

  } catch (err) {
    document.getElementById("total_score").innerText = "è¼¸å…¥éŒ¯èª¤";
  }
}

function clearAll() {
  let ids = ["person","weapon1","weapon","assistant","headgear","clothes","shoes","skill",
             "illusion5","illusion1","illusion2","illusion3","illusion4","relic_level","relic_count"];
  ids.forEach(id => document.getElementById(id).value = "");
  ["person_score","equip_score","illusion_score","skill_score","relic_score","total_score","star"]
    .forEach(id => document.getElementById(id).innerText = "0");
}

// ç›£è½ã€Œè£å‚™å¿«é€Ÿå¡«å…¥ã€æ¬„ä½
document.getElementById("weapon1").addEventListener("input", function() {
  let val = parseInt(this.value) || "";
  ["weapon","assistant","headgear","clothes","shoes"].forEach(id => {
    document.getElementById(id).value = val;
  });
});

document.getElementById("illusion5").addEventListener("input", function() {
  let val = parseInt(this.value) || "";
  ["illusion1","illusion2","illusion3","illusion4"].forEach(id => {
    document.getElementById(id).value = val;
  });
});
</script>


</body>
</html>
